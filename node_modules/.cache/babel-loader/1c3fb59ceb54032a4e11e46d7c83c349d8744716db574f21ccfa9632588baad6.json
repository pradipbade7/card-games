{"ast":null,"code":"var _jsxFileName = \"/Users/pradipbade/Documents/Projects/Small Projects/react-3d-card-game/src/components/GameBoard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport PlayerHand from './PlayerHand';\nimport GameLog from './GameLog';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function GameBoard({\n  gameState,\n  onDrawCard,\n  onHold,\n  onReset\n}) {\n  _s();\n  const {\n    players,\n    currentPlayerIndex,\n    phase,\n    gameLog,\n    winner\n  } = gameState;\n  const currentPlayer = players[currentPlayerIndex];\n  const [gameEnded, setGameEnded] = useState(false);\n\n  // Effect to handle end-of-game reveal\n  useEffect(() => {\n    if (phase === 'gameOver' && !gameEnded) {\n      // Add a small delay before revealing all cards\n      const revealTimer = setTimeout(() => {\n        setGameEnded(true);\n      }, 1000);\n      return () => clearTimeout(revealTimer);\n    }\n  }, [phase, gameEnded]);\n\n  // Helper function to determine the winner text\n  const getWinnerText = () => {\n    if (phase !== 'gameOver') return null;\n\n    // Check if there's a winner\n    const winningPlayer = players.find(p => p.status === 'winner');\n    if (winningPlayer) {\n      return `${winningPlayer.name} won with a total of ${winningPlayer.total}!`;\n    }\n\n    // Check if everyone busted\n    const allBusted = players.every(p => p.status === 'eliminated');\n    if (allBusted) {\n      return 'All players busted! The game is a void.';\n    }\n\n    // If no clear winner, find highest total under 17\n    let highestTotal = 0;\n    let highestTotalPlayer = null;\n    players.forEach(player => {\n      if (player.status !== 'eliminated' && player.total <= 17 && player.total > highestTotal) {\n        highestTotal = player.total;\n        highestTotalPlayer = player;\n      }\n    });\n    if (highestTotalPlayer) {\n      return `${highestTotalPlayer.name} won with the highest total of ${highestTotal}!`;\n    }\n    return 'No winner determined.';\n  };\n\n  // Get the game result message\n  const gameResultMessage = getWinnerText();\n\n  // Find the winning player for highlighting\n  const winningPlayerId = (() => {\n    if (phase !== 'gameOver') return -1;\n    const explicitWinner = players.findIndex(p => p.status === 'winner');\n    if (explicitWinner >= 0) return explicitWinner;\n\n    // If no explicit winner, find highest non-eliminated total\n    let highestTotal = 0;\n    let highestIndex = -1;\n    players.forEach((player, index) => {\n      if (player.status !== 'eliminated' && player.total <= 17 && player.total > highestTotal) {\n        highestTotal = player.total;\n        highestIndex = index;\n      }\n    });\n    return highestIndex;\n  })();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-board\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Game of 17\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-status\",\n        children: phase === 'playing' ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Current Turn: \", currentPlayer.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-result\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Game Over\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this), gameResultMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"winner-announcement\",\n            children: gameResultMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"players-container\",\n      children: players.map((player, index) => /*#__PURE__*/_jsxDEV(PlayerHand, {\n        player: player,\n        isCurrentTurn: index === currentPlayerIndex && phase === 'playing',\n        isHumanPlayer: player.isHuman,\n        gamePhase: phase\n        // Show total for all players during reveal phase or when game is over\n        ,\n        showTotal: player.isHuman || phase === 'gameOver' || phase === 'revealing' || player.status === 'eliminated'\n        // Only highlight winner after the reveal phase\n        ,\n        isWinner: phase === 'gameOver' && index === winner\n      }, player.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-controls\",\n      children: [phase === 'playing' && players[currentPlayerIndex].isHuman && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onDrawCard,\n          disabled: players[currentPlayerIndex].status !== 'active',\n          children: \"Draw Card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onHold,\n          disabled: players[currentPlayerIndex].status !== 'active' || players[currentPlayerIndex].total < 11,\n          children: \"Hold\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), phase === 'gameOver' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onReset,\n        className: \"new-game-button\",\n        children: \"New Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GameLog, {\n      logs: gameLog\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n}\n_s(GameBoard, \"s7pYrvV2FU7EKgfwEczYvAmt698=\");\n_c = GameBoard;\nvar _c;\n$RefreshReg$(_c, \"GameBoard\");","map":{"version":3,"names":["React","useEffect","useState","PlayerHand","GameLog","jsxDEV","_jsxDEV","Fragment","_Fragment","GameBoard","gameState","onDrawCard","onHold","onReset","_s","players","currentPlayerIndex","phase","gameLog","winner","currentPlayer","gameEnded","setGameEnded","revealTimer","setTimeout","clearTimeout","getWinnerText","winningPlayer","find","p","status","name","total","allBusted","every","highestTotal","highestTotalPlayer","forEach","player","gameResultMessage","winningPlayerId","explicitWinner","findIndex","highestIndex","index","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","isCurrentTurn","isHumanPlayer","isHuman","gamePhase","showTotal","isWinner","id","onClick","disabled","logs","_c","$RefreshReg$"],"sources":["/Users/pradipbade/Documents/Projects/Small Projects/react-3d-card-game/src/components/GameBoard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PlayerHand from './PlayerHand';\nimport GameLog from './GameLog';\n\nexport default function GameBoard({ gameState, onDrawCard, onHold, onReset }) {\n    const { players, currentPlayerIndex, phase, gameLog, winner } = gameState;\n    const currentPlayer = players[currentPlayerIndex];\n    const [gameEnded, setGameEnded] = useState(false);\n\n    // Effect to handle end-of-game reveal\n    useEffect(() => {\n        if (phase === 'gameOver' && !gameEnded) {\n            // Add a small delay before revealing all cards\n            const revealTimer = setTimeout(() => {\n                setGameEnded(true);\n            }, 1000);\n            \n            return () => clearTimeout(revealTimer);\n        }\n    }, [phase, gameEnded]);\n\n    // Helper function to determine the winner text\n    const getWinnerText = () => {\n        if (phase !== 'gameOver') return null;\n        \n        // Check if there's a winner\n        const winningPlayer = players.find(p => p.status === 'winner');\n        if (winningPlayer) {\n            return `${winningPlayer.name} won with a total of ${winningPlayer.total}!`;\n        }\n        \n        // Check if everyone busted\n        const allBusted = players.every(p => p.status === 'eliminated');\n        if (allBusted) {\n            return 'All players busted! The game is a void.';\n        }\n        \n        // If no clear winner, find highest total under 17\n        let highestTotal = 0;\n        let highestTotalPlayer = null;\n        \n        players.forEach(player => {\n            if (player.status !== 'eliminated' && player.total <= 17 && player.total > highestTotal) {\n                highestTotal = player.total;\n                highestTotalPlayer = player;\n            }\n        });\n        \n        if (highestTotalPlayer) {\n            return `${highestTotalPlayer.name} won with the highest total of ${highestTotal}!`;\n        }\n        \n        return 'No winner determined.';\n    };\n\n    // Get the game result message\n    const gameResultMessage = getWinnerText();\n\n    // Find the winning player for highlighting\n    const winningPlayerId = (() => {\n        if (phase !== 'gameOver') return -1;\n        \n        const explicitWinner = players.findIndex(p => p.status === 'winner');\n        if (explicitWinner >= 0) return explicitWinner;\n        \n        // If no explicit winner, find highest non-eliminated total\n        let highestTotal = 0;\n        let highestIndex = -1;\n        \n        players.forEach((player, index) => {\n            if (player.status !== 'eliminated' && player.total <= 17 && player.total > highestTotal) {\n                highestTotal = player.total;\n                highestIndex = index;\n            }\n        });\n        \n        return highestIndex;\n    })();\n\n    return (\n        <div className=\"game-board\">\n            <div className=\"game-header\">\n                <h2>Game of 17</h2>\n                <div className=\"game-status\">\n                    {phase === 'playing' ? (\n                        <span>Current Turn: {currentPlayer.name}</span>\n                    ) : (\n                        <div className=\"game-result\">\n                            <span>Game Over</span>\n                            {gameResultMessage && (\n                                <div className=\"winner-announcement\">{gameResultMessage}</div>\n                            )}\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            <div className=\"players-container\">\n                {players.map((player, index) => (\n                    <PlayerHand\n                    key={player.id}\n                    player={player}\n                    isCurrentTurn={index === currentPlayerIndex && phase === 'playing'}\n                    isHumanPlayer={player.isHuman}\n                    gamePhase={phase}\n                    // Show total for all players during reveal phase or when game is over\n                    showTotal={player.isHuman || phase === 'gameOver' || phase === 'revealing' || player.status === 'eliminated'}\n                    // Only highlight winner after the reveal phase\n                    isWinner={phase === 'gameOver' && index === winner}\n                  />\n                ))}\n            </div>\n\n            <div className=\"game-controls\">\n                {phase === 'playing' && players[currentPlayerIndex].isHuman && (\n                    <>\n                        <button\n                            onClick={onDrawCard}\n                            disabled={players[currentPlayerIndex].status !== 'active'}\n                        >\n                            Draw Card\n                        </button>\n                        <button\n                            onClick={onHold}\n                            disabled={\n                                players[currentPlayerIndex].status !== 'active' ||\n                                players[currentPlayerIndex].total < 11\n                            }\n                        >\n                            Hold\n                        </button>\n                    </>\n                )}\n                \n                {phase === 'gameOver' && (\n                    <button onClick={onReset} className=\"new-game-button\">New Game</button>\n                )}\n            </div>\n\n            <GameLog logs={gameLog} />\n        </div>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}